.type Capture = ZeroCap {}
              | TransmuteFuncDefCap {inputParaType: symbol, transmuteFuncName: symbol, outputTypeArguments: symbol, transmuteFuncDef: symbol, outputVecType: symbol, outputVecDeclaration: symbol, inputVecType: symbol, capDeclaration: symbol, lenDeclaration: symbol, inputVecName: symbol, ptrDeclaration: symbol}
              | TransmuteFuncDefWithForgetCap {forgetOriginPtr: symbol, inputParaType: symbol, transmuteFuncName: symbol, outputTypeArguments: symbol, transmuteFuncDef: symbol, outputVecType: symbol, outputVecDeclaration: symbol, inputVecType: symbol, capDeclaration: symbol, lenDeclaration: symbol, inputVecName: symbol, ptrDeclaration: symbol}
              | LenDeclarationCap {transmuteFuncDef: symbol, bexp: symbol, fexp: symbol, right: symbol, lenName: symbol, lenDeclaration: symbol, inputVecName: symbol, operator: symbol}
              | CapDeclarationCap {transmuteFuncDef: symbol, capName: symbol, bexp: symbol, fexp: symbol, right: symbol, capDeclaration: symbol, inputVecName: symbol, operator: symbol}
              | OutputVecDeclarationCap {path: symbol, transmuteFuncDef: symbol, capName: symbol, outputVecDeclaration: symbol, lenName: symbol, ptrName: symbol}
              | ForgetOriginPtrCap {forgetOriginPtr: symbol, transmuteFuncDef: symbol, inputVecName: symbol}
              | PtrDeclarationCap {transmuteFuncDef: symbol, fexp: symbol, ptrName: symbol, inputVecName: symbol, ptrDeclaration: symbol}

.type Branch = ZeroBranch {}
             | TransmuteFuncDefWithForgetBr {_0: symbol, _1: symbol, _2: symbol, _3: symbol, _4: symbol, _5: symbol, _6: symbol, _7: symbol}
             | OutputVecDeclarationBr {_0: symbol, _1: symbol, _2: symbol}
             | TransmuteFuncDefBr {_0: symbol, _1: symbol, _2: symbol, _3: symbol, _4: symbol, _5: symbol, _6: symbol}
             | PtrDeclarationBr {_0: symbol, _1: symbol, _2: symbol}
             | ForgetOriginPtrBr {_0: symbol}
             | CapDeclarationBr {_0: symbol, _1: symbol, _2: symbol, _3: symbol, _4: symbol}
             | LenDeclarationBr {_0: symbol, _1: symbol, _2: symbol, _3: symbol, _4: symbol}

.type URI = [
    lang: symbol,
    file: symbol,
    element: symbol,
    branches: Branch,
    caps: Capture
]

.decl CapDeclaration(uri:URI)
.decl ForgetOriginPtr(uri:URI)
.decl TransmuteFuncDef(uri:URI)
.decl PtrDeclaration(uri:URI)
.decl LenDeclaration(uri:URI)
.decl TransmuteFuncDefWithForget(uri:URI)
.decl OutputVecDeclaration(uri:URI)
.input CapDeclaration
.input ForgetOriginPtr
.input TransmuteFuncDef
.input PtrDeclaration
.input LenDeclaration
.input TransmuteFuncDefWithForget
.input OutputVecDeclaration

.comp Main {
    .decl ReversedParameter(param0:URI)
    .decl WithoutForget(param0:URI)
    .decl WithForget(param0:symbol)
    ReversedParameter(func_item) :- TransmuteFuncDefWithForget(func_item), func_item=[_attrFunc_itemLang,_attrFunc_itemFile,_attrFunc_itemElement,$TransmuteFuncDefWithForgetBr(_Func_item_Branches0,_Func_item_Branches1,_Func_item_Branches2,Func_item_Branches3,Func_item_Branches4,Func_item_Branches5,Func_item_Branches6,Func_item_Branches7),$TransmuteFuncDefWithForgetCap(_capFunc_itemForgetOriginPtr,_capFunc_itemInputParaType,_capFunc_itemTransmuteFuncName,_capFunc_itemOutputTypeArguments,_capFunc_itemTransmuteFuncDef,_capFunc_itemOutputVecType,_capFunc_itemOutputVecDeclaration,_capFunc_itemInputVecType,_capFunc_itemCapDeclaration,_capFunc_itemLenDeclaration,capFunc_itemInputVecName,_capFunc_itemPtrDeclaration)], PtrDeclaration(ptr_decl), ptr_decl=[_attrPtr_declLang,_attrPtr_declFile,attrPtr_declElement,_attrPtr_declBr,$PtrDeclarationCap(_capPtr_declTransmuteFuncDef,_capPtr_declFexp,capPtr_declPtrName,capPtr_declInputVecName,_capPtr_declPtrDeclaration)], CapDeclaration(cap_decl), cap_decl=[_attrCap_declLang,_attrCap_declFile,attrCap_declElement,_attrCap_declBr,$CapDeclarationCap(_capCap_declTransmuteFuncDef,_capCap_declCapName,_capCap_declBexp,_capCap_declFexp,_capCap_declRight,_capCap_declCapDeclaration,capCap_declInputVecName,_capCap_declOperator)], LenDeclaration(len_decl), len_decl=[_attrLen_declLang,_attrLen_declFile,attrLen_declElement,_attrLen_declBr,$LenDeclarationCap(_capLen_declTransmuteFuncDef,_capLen_declBexp,_capLen_declFexp,_capLen_declRight,_capLen_declLenName,_capLen_declLenDeclaration,capLen_declInputVecName,_capLen_declOperator)], OutputVecDeclaration(output_vec_def), output_vec_def=[_attrOutput_vec_defLang,_attrOutput_vec_defFile,attrOutput_vec_defElement,_attrOutput_vec_defBr,$OutputVecDeclarationCap(_capOutput_vec_defPath,_capOutput_vec_defTransmuteFuncDef,capOutput_vec_defCapName,_capOutput_vec_defOutputVecDeclaration,capOutput_vec_defLenName,capOutput_vec_defPtrName)], ForgetOriginPtr(forget_origin_ptr), forget_origin_ptr=[_attrForget_origin_ptrLang,_attrForget_origin_ptrFile,attrForget_origin_ptrElement,_attrForget_origin_ptrBr,$ForgetOriginPtrCap(_capForget_origin_ptrForgetOriginPtr,_capForget_origin_ptrTransmuteFuncDef,capForget_origin_ptrInputVecName)], Func_item_Branches3=attrPtr_declElement, Func_item_Branches4=attrCap_declElement, Func_item_Branches5=attrLen_declElement, Func_item_Branches6=attrOutput_vec_defElement, Func_item_Branches7=attrForget_origin_ptrElement, capFunc_itemInputVecName=capPtr_declInputVecName, capFunc_itemInputVecName=capCap_declInputVecName, capFunc_itemInputVecName=capLen_declInputVecName, capOutput_vec_defPtrName=capPtr_declPtrName, capOutput_vec_defLenName=capLen_declCapName, capOutput_vec_defCapName=capCap_declLenName, capFunc_itemInputVecName=capForget_origin_ptrInputVecName.
    WithoutForget(func_item) :- TransmuteFuncDef(func_item), func_item=[_attrFunc_itemLang,_attrFunc_itemFile,attrFunc_itemElement,$TransmuteFuncDefBr(_Func_item_Branches0,_Func_item_Branches1,_Func_item_Branches2,Func_item_Branches3,Func_item_Branches4,Func_item_Branches5,Func_item_Branches6),$TransmuteFuncDefCap(_capFunc_itemInputParaType,_capFunc_itemTransmuteFuncName,_capFunc_itemOutputTypeArguments,_capFunc_itemTransmuteFuncDef,_capFunc_itemOutputVecType,_capFunc_itemOutputVecDeclaration,_capFunc_itemInputVecType,_capFunc_itemCapDeclaration,_capFunc_itemLenDeclaration,capFunc_itemInputVecName,_capFunc_itemPtrDeclaration)], !WithForget(attrFunc_itemElement), PtrDeclaration(ptr_decl), ptr_decl=[_attrPtr_declLang,_attrPtr_declFile,attrPtr_declElement,_attrPtr_declBr,$PtrDeclarationCap(_capPtr_declTransmuteFuncDef,_capPtr_declFexp,capPtr_declPtrName,capPtr_declInputVecName,_capPtr_declPtrDeclaration)], CapDeclaration(cap_decl), cap_decl=[_attrCap_declLang,_attrCap_declFile,attrCap_declElement,_attrCap_declBr,$CapDeclarationCap(_capCap_declTransmuteFuncDef,capCap_declCapName,_capCap_declBexp,_capCap_declFexp,_capCap_declRight,_capCap_declCapDeclaration,capCap_declInputVecName,_capCap_declOperator)], LenDeclaration(len_decl), len_decl=[_attrLen_declLang,_attrLen_declFile,attrLen_declElement,_attrLen_declBr,$LenDeclarationCap(_capLen_declTransmuteFuncDef,_capLen_declBexp,_capLen_declFexp,_capLen_declRight,capLen_declLenName,_capLen_declLenDeclaration,capLen_declInputVecName,_capLen_declOperator)], OutputVecDeclaration(output_vec_def), output_vec_def=[_attrOutput_vec_defLang,_attrOutput_vec_defFile,attrOutput_vec_defElement,_attrOutput_vec_defBr,$OutputVecDeclarationCap(_capOutput_vec_defPath,_capOutput_vec_defTransmuteFuncDef,capOutput_vec_defCapName,_capOutput_vec_defOutputVecDeclaration,capOutput_vec_defLenName,capOutput_vec_defPtrName)], Func_item_Branches3=attrPtr_declElement, Func_item_Branches4=attrCap_declElement, Func_item_Branches5=attrLen_declElement, Func_item_Branches6=attrOutput_vec_defElement, capFunc_itemInputVecName=capPtr_declInputVecName, capFunc_itemInputVecName=capCap_declInputVecName, capFunc_itemInputVecName=capLen_declInputVecName, capOutput_vec_defPtrName=capPtr_declPtrName, capOutput_vec_defLenName=capLen_declLenName, capOutput_vec_defCapName=capCap_declCapName.
    WithForget(elem) :- TransmuteFuncDefWithForget(with_forget), with_forget=[_attrWith_forgetLang,_attrWith_forgetFile,attrWith_forgetElement,$TransmuteFuncDefWithForgetBr(_With_forget_Branches0,_With_forget_Branches1,_With_forget_Branches2,_With_forget_Branches3,_With_forget_Branches4,_With_forget_Branches5,_With_forget_Branches6,With_forget_Branches7),_capwith_forget], ForgetOriginPtr(forget_origin_ptr), forget_origin_ptr=[_attrForget_origin_ptrLang,_attrForget_origin_ptrFile,attrForget_origin_ptrElement,_attrForget_origin_ptrBr,_capforget_origin_ptr], With_forget_Branches7=attrForget_origin_ptrElement, elem=attrWith_forgetElement.
}
.init mainInstance = Main
.output mainInstance.ReversedParameter(IO=file, rfc4180=true)
.output mainInstance.WithoutForget(IO=file, rfc4180=true)

