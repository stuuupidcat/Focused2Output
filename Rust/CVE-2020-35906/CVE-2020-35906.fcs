[Elements]

ArcWakeTrait:
    lang: Rust
    file: (arcWakeTrait).rs
    element: (trait)::trait_item#trait
    branches:
        - @trait//(bounds)::trait_bounds/~trait~/Send
        - @trait//(bounds)::trait_bounds/~trait~/Sync

WakerGenerator:
    lang: Rust
    file: (wakerGenerator).rs
    element: (function)::function_item#func[return_type=Waker]
    branches:
        - @func//**//(bounds)::trait_bounds/~trait~/(trait)::type_identifier
        - @func//**/~para[idx=0]~/(para)::parameter//(paraType)::generic_type/~type~/Arc
        - @func//**/~para[idx=0]~/(para)::parameter//(paraType)::generic_type//**/~type_arg~/(typeArguments)

WakerGeneratorWithStatic: WakerGenerator
    branches:
        - @func//**//(bounds)::trait_bounds/~lifetime~/'static::lifetime

[Links]
    Main {
    private:
        WithStatic(elem):
            & WakerGeneratorWithStatic(waker)
            & match(waker.element, elem)
    public:
        NameMatching(func, trait_def):
            & WakerGenerator(func)
            & !WithStatic(func.element)
            & ArcWakeTrait(trait_def)
            & match(func[trait], trait_def[trait])
    } 
