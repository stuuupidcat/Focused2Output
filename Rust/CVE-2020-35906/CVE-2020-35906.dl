.type Capture = ZeroCap {}
              | ArcWakeTraitCap {arcWakeTrait: symbol, bounds: symbol, trait: symbol}
              | WakerGeneratorCap {typeArguments: symbol, para: symbol, function: symbol, bounds: symbol, trait: symbol, wakerGenerator: symbol, paraType: symbol}
              | WakerGeneratorWithStaticCap {typeArguments: symbol, para: symbol, function: symbol, bounds: symbol, trait: symbol, wakerGenerator: symbol, paraType: symbol}

.type Branch = ZeroBranch {}
             | WakerGeneratorWithStaticBr {_0: symbol, _1: symbol, _2: symbol, _3: symbol}
             | WakerGeneratorBr {_0: symbol, _1: symbol, _2: symbol}
             | ArcWakeTraitBr {_0: symbol, _1: symbol}

.type URI = [
    lang: symbol,
    file: symbol,
    element: symbol,
    branches: Branch,
    caps: Capture
]

.decl WakerGenerator(uri:URI)
.decl WakerGeneratorWithStatic(uri:URI)
.decl ArcWakeTrait(uri:URI)
.input WakerGenerator
.input WakerGeneratorWithStatic
.input ArcWakeTrait

.comp Main {
    .decl WakerGeneratorWithoutStatic(param0:URI, param1:URI)
    .decl WithStatic(param0:symbol)
    WakerGeneratorWithoutStatic(func, trait_def) :- WakerGenerator(func), func=[_attrFuncLang,_attrFuncFile,attrFuncElement,_attrFuncBr,$WakerGeneratorCap(_capFuncTypeArguments,_capFuncPara,_capFuncFunction,_capFuncBounds,capFuncTrait,_capFuncWakerGenerator,_capFuncParaType)], !WithStatic(attrFuncElement), ArcWakeTrait(trait_def), trait_def=[_attrTrait_defLang,_attrTrait_defFile,_attrTrait_defElement,_attrTrait_defBr,$ArcWakeTraitCap(_capTrait_defArcWakeTrait,_capTrait_defBounds,capTrait_defTrait)], capFuncTrait=capTrait_defTrait.
    WithStatic(elem) :- WakerGeneratorWithStatic(waker), waker=[_attrWakerLang,_attrWakerFile,attrWakerElement,_attrWakerBr,_capwaker], attrWakerElement=elem.
}
.init mainInstance = Main
.output mainInstance.WakerGeneratorWithoutStatic(IO=file, rfc4180=true)

